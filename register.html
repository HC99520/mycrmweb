<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Register </title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- favicon
		============================================ -->
  <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
  <!-- Google Fonts
		============================================ -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900" rel="stylesheet">
  <!-- Bootstrap CSS
		============================================ -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Bootstrap CSS
		============================================ -->
  <link rel="stylesheet" href="css/font-awesome.min.css">
  <!-- owl.carousel CSS
		============================================ -->
  <link rel="stylesheet" href="css/owl.carousel.css">
  <link rel="stylesheet" href="css/owl.theme.css">
  <link rel="stylesheet" href="css/owl.transitions.css">
  <!-- animate CSS
		============================================ -->
  <link rel="stylesheet" href="css/animate.css">
  <!-- normalize CSS
		============================================ -->
  <link rel="stylesheet" href="css/normalize.css">
  <!-- main CSS
		============================================ -->
  <link rel="stylesheet" href="css/main.css">
  <!-- morrisjs CSS
		============================================ -->
  <link rel="stylesheet" href="css/morrisjs/morris.css">
  <!-- mCustomScrollbar CSS
		============================================ -->
  <link rel="stylesheet" href="css/scrollbar/jquery.mCustomScrollbar.min.css">
  <!-- metisMenu CSS
		============================================ -->
  <link rel="stylesheet" href="css/metisMenu/metisMenu.min.css">
  <link rel="stylesheet" href="css/metisMenu/metisMenu-vertical.css">
  <!-- calendar CSS
		============================================ -->
  <link rel="stylesheet" href="css/calendar/fullcalendar.min.css">
  <link rel="stylesheet" href="css/calendar/fullcalendar.print.min.css">
  <!-- forms CSS
		============================================ -->
  <link rel="stylesheet" href="css/form/all-type-forms.css">
  <!-- style CSS
		============================================ -->
  <link rel="stylesheet" href="style.css">
  <!-- responsive CSS
		============================================ -->
  <link rel="stylesheet" href="css/responsive.css">
  <!-- modernizr JS
		============================================ -->
  <script src="js/vendor/modernizr-2.8.3.min.js"></script>
</head>

<body>
  <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

  <div class="color-line"></div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="back-link back-backend">
          <a href="index.html" class="btn btn-primary">返回首页</a>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12"></div>
      <div class="col-md-6 col-md-6 col-sm-6 col-xs-12">
        <div class="text-center custom-login">
          <h3 style="color:beige">注册页面</h3>
          <p style="color:beige">用于登记用户的基本信息</p>
        </div>
        <div class="hpanel">
          <div class="panel-body">
            <form action="#" id="loginForm">
              <div class="row">
                <div class="form-group col-lg-6">
                  <label>手机号</label>
                  <input class="form-control" id="phone" name="phone">

                </div>
<<<<<<< HEAD
                <div class="form-group col-lg-3">
                  <label>获取验证码</label>
                  <input class="form-control" id="code">

                </div>
                <div class="form-group col-lg-3">

                  <button class="btn btn-success loginbtn" style="margin-top: 30px;"
                    onclick="registerTest()">获取验证码</button>

                </div>
=======
                 <div class="form-group col-lg-3">
                   <label>获取验证码</label>
                   <input class="form-control" id="code">

                 </div>
                 <div class="form-group col-lg-3">

                   <button class="btn btn-success loginbtn" style="margin-top: 30px;"
                     onclick="registerTest()">获取验证码</button>

                 </div>
>>>>>>> d02cc6ead4937e3c431827774394259ec1619faa
                <div class="form-group col-lg-6">
                  <label>密码</label>
                  <input type="password" class="form-control" id="password">
                </div>
                <div class="form-group col-lg-6">
                  <label>重复密码</label>
                  <input type="password" class="form-control" id="password2">
                </div>
                <div class="form-group col-lg-6">
                  <label>邮箱地址</label>
                  <input class="form-control" id="email">
                </div>
                <div class="form-group col-lg-6">
                  <label>住址</label>
                  <input class="form-control" id="address">
                </div>
                <div class="form-group col-lg-6">
                  <label>年龄</label>
<<<<<<< HEAD
                  <!-- <input class="form-control" id="age"> -->
                  <select class="form-control" id="age">
                  </select>
                </div>
                <div class="form-group col-lg-6">
                  <label>姓名</label>
                  <input class="form-control" id="name">
                </div>
                <div class="form-group col-lg-6">
                  <label>性别</label>
                  <!-- <input class="form-control" id="sex"> -->
                  <select class="form-control" id="sex">
                    <option value="男" id="man">男</option>
                    <option value="女" id="woman">女</option>

                  </select>
                </div>
                <div class="form-group col-lg-6">
                  <label>水平</label>
                  <!-- <input class="form-control" id="level"> -->
                  <select class="form-control" id="level">
                    <option value="1" id="one">1</option>
                    <option value="2" id="tow">2</option>
                    <option value="3" id="three">3</option>
                  </select>
                </div>


=======
                  <input class="form-control" id="age">
                </div>
                <div class="form-group col-lg-6">
                  <label>姓名</label>
                  <input class="form-control"  id="name">
                </div>
                <div class="form-group col-lg-6">
                  <label>性别</label>
                  <input class="form-control" id="sex">
                </div>
                <div class="form-group col-lg-6">
                  <label>水平[1，2，3]</label>
                  <input class="form-control" id="level">
                </div>

               
>>>>>>> d02cc6ead4937e3c431827774394259ec1619faa

                <div class="checkbox col-lg-12">
                  <input type="checkbox" class="i-checks" checked> 订阅我们的时事通讯
                </div>
              </div>
              <div class="text-center">
                <button class="btn btn-success loginbtn" onclick="register()">
                  注册
                </button>
                <button class="btn btn-default">
                  <a href="login.html">返回</a>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12"></div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<<<<<<< HEAD
  <!-- 存储cookie的js -->
  <script src="js/jquery.cookie.js"></script>
=======
   <!-- 存储cookie的js -->
   <script src="js/jquery.cookie.js"></script>
>>>>>>> d02cc6ead4937e3c431827774394259ec1619faa
  <script>
    function registerTest() {
      var code = $("#code").val();
      var phone = $("#phone").val();
      //var lsnm = Math.random().toString().slice(-6);
      $.ajax({
        url: "http://localhost:9000/web/CustomerController/register",
        method: "POST",
        data: {
          phone: phone
        },
        dataType: "json",
        success(data) {

        }
      })
    }

<<<<<<< HEAD
    for (var i = 1; i < 121; i++) {
      var newOption = document.createElement("option");
       newOption.text = i;
      newOption.value = i;
      document.getElementById("age").add(newOption);
    }


      function register() {
        var phone = $("#phone").val();
        var password = $("#password").val();
        var password2 = $("#password2").val();
        var email = $("#email").val();
        var age = $("#age").val();
        var sex = $("#sex").val();
        var level = $("#level").val();
        var code = $("#code").val();
        var name = $("#name").val();
        var address = $("#address").val();

        alert(level)
        var reg = /^[1][3,4,5,7,8][0-9]{9}$/;
        var isEmail = /^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/;
        var pattern = /^(男|女)$/;
        var isAge = /^(?:[1-9][0-9]?|1[01][0-9]|120)$/;
        var isCode = /^\d{6}$/;
        if (phone == '') {
          alert("手机号不能和为空");
          return;
        }
        if (!reg.test(phone)) {
          alert("手机号码格式不对");
          return;
        }
        if (code == '') {
          alert("验证码不能为空");
          return;
        }
        if (!isCode.test(code)) {
          alert("验证码格式错误");
          return;
        }
        if (password == '') {
          alert("密码不能为空");
          return;
        }
        if (password2 == '') {
          alert("密码不能为空");
          return;
        }
        if (password != password2) {
          alert("密码不一致")
        }
        if (email == '') {
          alert("邮箱不能为空");
          return;
        }
        if (!isEmail.test(email)) {
          alert("邮箱格式输入有误");
          return;
        }
        if (address == '') {
          alert("住址不能为空");
          return;
        }
        if (age == '') {
          alert("年龄不能为空");
          return;
        }
        if (!isAge.test(age)) {
          alert("年龄是1-120之间有效");
          return;
        }
        if (name == '') {
          alert("姓名不能为空");
          return;
        }




        if (sex == '') {
          alert("性别不能为空");
          return;
        }
        if (!pattern.test(sex)) {
          alert("请输入男或女");
          return;
        }
        if (level == '') {
          alert("水平不能为空");
          return;
        }
        if (level != 1 && level != 2 && level != 3) {
          alert("只能填写[1,2,3]");
          return;
        }


        $.ajax({
          url: 'http://localhost:9000/web/CustomerController/addCustomer',
          data: {
            name: name,
            address: address,
            phone: phone,
            pCode: password,
            sex: sex,
            age: age,
            level: level,
            email: email,
            code: code

          },
          type: 'get',
          dataType: 'json',
          success: function (data) {

            if (data == 1) {

              alert("注册成功，跳转登录页面")
              window.location.href = "login.html";
              return true
            } else {
              alert("验证码有误")
              return false;

            }
          }
        })
      }
=======
 
   


    function register() {
      var phone = $("#phone").val();
      var password = $("#password").val();
      var password2 = $("#password2").val();
      var email = $("#email").val();
      var age = $("#age").val();
      var sex = $("#sex").val();
      var level = $("#level").val();
      var code = $("#code").val();
      var name = $("#name").val();
      var address = $("#address").val();

      var reg = /^[1][3,4,5,7,8][0-9]{9}$/;
      var isEmail = /^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/;
      var pattern = /^(男|女)$/;
      var isAge = /^(?:[1-9][0-9]?|1[01][0-9]|120)$/;
      var isCode = /^\d{6}$/;
      if (phone == '') {
        alert("手机号不能和为空");
        return;
      }
      if (!reg.test(phone)) {
        alert("手机号码格式不对");
        return;
      }
      if (code == '') {
      alert("验证码不能为空");
      return;
      }
      if (!isCode.test(code)) {
      alert("验证码格式错误");
      return;
      }
      if (password == '') {
        alert("密码不能为空");
        return;
      }
      if (password2 == '') {
        alert("密码不能为空");
        return;
      }
      if (password != password2) {
        alert("密码不一致")
      }
      if (email == '') {
        alert("邮箱不能为空");
        return;
      }
      if (!isEmail.test(email)) {
        alert("邮箱格式输入有误");
        return;
      }
      if (address == '') {
        alert("住址不能为空");
        return;
      }
      if (age == '') {
        alert("年龄不能为空");
        return;
      }
      if (!isAge.test(age)) {
        alert("年龄是1-120之间有效");
        return;
      }
      if (name == '') {
        alert("姓名不能为空");
        return;
      }




      if (sex == '') {
        alert("性别不能为空");
        return;
      }
      if (!pattern.test(sex)) {
        alert("请输入男或女");
        return;
      }
      if (level == '') {
        alert("水平不能为空");
        return;
      }
      if (level != 1 && level != 2 && level != 3) {
        alert("只能填写[1,2,3]");
        return;
      }
      

      $.ajax({
        url: 'http://localhost:9000/web/CustomerController/addCustomer',
        data: {
          name: name,
          address: address,
          phone: phone,
          pCode: password,
          sex:sex,
          age:age,
          level:level,
          email:email,
          code:code

        },
        type: 'get',
        dataType: 'json',
        success: function (data) {
            
          if(data==1){
  
            alert("注册成功，跳转登录页面")
            window.location.href = "login.html";
            return true
          }else{
             alert("验证码有误")
            return false;
           
          }
        }
      })
    }


>>>>>>> d02cc6ead4937e3c431827774394259ec1619faa
  </script>

  <!-- jquery
		============================================ -->
  <script src="js/vendor/jquery-1.11.3.min.js"></script>
  <!-- bootstrap JS
		============================================ -->
  <script src="js/bootstrap.min.js"></script>
  <!-- wow JS
		============================================ -->
  <script src="js/wow.min.js"></script>
  <!-- price-slider JS
		============================================ -->
  <script src="js/jquery-price-slider.js"></script>
  <!-- meanmenu JS
		============================================ -->
  <script src="js/jquery.meanmenu.js"></script>
  <!-- owl.carousel JS
		============================================ -->
  <script src="js/owl.carousel.min.js"></script>
  <!-- sticky JS
		============================================ -->
  <script src="js/jquery.sticky.js"></script>
  <!-- scrollUp JS
		============================================ -->
  <script src="js/jquery.scrollUp.min.js"></script>
  <!-- mCustomScrollbar JS
		============================================ -->
  <script src="js/scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="js/scrollbar/mCustomScrollbar-active.js"></script>
  <!-- metisMenu JS
		============================================ -->
  <script src="js/metisMenu/metisMenu.min.js"></script>
  <script src="js/metisMenu/metisMenu-active.js"></script>
  <!-- tab JS
		============================================ -->
  <script src="js/tab.js"></script>
  <!-- icheck JS
		============================================ -->
  <script src="js/icheck/icheck.min.js"></script>
  <script src="js/icheck/icheck-active.js"></script>
  <!-- plugins JS
		============================================ -->
  <script src="js/plugins.js"></script>
  <!-- main JS
		============================================ -->
  <script src="js/main.js"></script>
</body>

</html>